<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetMarket - Automation & KPIs</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&family=Fira+Code:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- CONFIGURATION DESIGN --- */
        :root {
            --primary: #d4af37; /* Or */
            --primary-dim: #b59020;
            --black: #0a0a0a;
            --dark-panel: #141414;
            --light-grey: #f4f4f4;
            --white: #ffffff;
            --success: #00c853;
            --font-title: 'Playfair Display', serif;
            --font-text: 'Lato', sans-serif;
            --font-code: 'Fira Code', monospace;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: var(--light-grey); color: var(--black); font-family: var(--font-text); line-height: 1.6; }

        /* --- HEADER --- */
        header {
            background-color: var(--black);
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid var(--primary);
        }
        .logo { font-family: var(--font-title); font-size: 1.5rem; font-weight: 700; color: var(--white); letter-spacing: 1px; }
        .logo span { color: var(--primary); }

        nav ul { display: flex; list-style: none; gap: 30px; }
        nav a {
            color: #aaa; text-decoration: none; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1px; transition: 0.3s; cursor: pointer;
        }
        nav a:hover, nav a.active { color: var(--primary); }

        /* --- PAGES MANAGEMENT --- */
        .page-section { display: none; padding: 2rem 5%; animation: fadeIn 0.5s; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- SECTION 1: WORKFLOWS --- */
        .hero {
            text-align: center; padding: 4rem 0;
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80');
            background-size: cover; color: white; margin-bottom: 3rem; border-radius: 0 0 20px 20px;
        }
        .hero h1 { font-family: var(--font-title); font-size: 3rem; color: var(--primary); margin-bottom: 1rem; }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; max-width: 1200px; margin: 0 auto; }
        
        .card {
            background: var(--white); border-top: 4px solid var(--black); padding: 2rem; cursor: pointer;
            transition: 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.05); position: relative; overflow: hidden;
        }
        .card:hover { transform: translateY(-10px); border-top-color: var(--primary); box-shadow: 0 15px 30px rgba(0,0,0,0.15); }
        .card-icon { font-size: 2rem; color: var(--primary); margin-bottom: 1rem; }
        .card h3 { font-family: var(--font-title); font-size: 1.4rem; margin-bottom: 0.5rem; }
        .card-tag { background: #eee; padding: 4px 10px; font-size: 0.75rem; text-transform: uppercase; font-weight: bold; }

        /* --- SECTION 2: KPIS DASHBOARD --- */
        .kpi-container { max-width: 1200px; margin: 0 auto; }
        .kpi-header { margin-bottom: 2rem; border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
        .kpi-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem; }
        
        .kpi-card { background: var(--white); padding: 20px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .kpi-title { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .kpi-title h3 { font-family: var(--font-title); color: var(--black); }
        
        /* Barres de progression KPI */
        .metric-row { margin-bottom: 15px; }
        .metric-label { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 5px; }
        .progress-bg { width: 100%; height: 8px; background: #eee; border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0; transition: width 1.5s ease-out; }
        
        .big-stat { font-size: 2.5rem; font-weight: bold; color: var(--primary); margin: 10px 0; }
        .stat-label { color: #666; font-size: 0.9rem; }

        /* --- MODAL SIMULATION --- */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.9); align-items: center; justify-content: center;
        }
        .modal.active { display: flex; }
        
        .modal-content {
            background-color: var(--dark-panel); color: white; width: 95%; max-width: 1400px; height: 90vh;
            border-radius: 10px; display: flex; overflow: hidden; box-shadow: 0 0 30px rgba(212, 175, 55, 0.2);
        }

        /* Gauche : Workflow Image */
        .modal-left { width: 60%; background: #222; padding: 20px; display: flex; flex-direction: column; border-right: 1px solid #333; }
        .workflow-img { width: 100%; height: 100%; object-fit: contain; border-radius: 5px; border: 1px solid #444; }

        /* Droite : Console Simulation */
        .modal-right { width: 40%; background: #0f0f0f; display: flex; flex-direction: column; }
        .console-header { padding: 15px; border-bottom: 1px solid #333; display: flex; justify-content: space-between; align-items: center; background: #1a1a1a; }
        .console-title { font-family: var(--font-code); color: var(--primary); font-size: 0.9rem; }
        
        .console-body { flex: 1; padding: 20px; font-family: var(--font-code); font-size: 0.85rem; overflow-y: auto; color: #ddd; }
        .log-entry { margin-bottom: 8px; opacity: 0; animation: fadeInLog 0.3s forwards; display: flex; gap: 10px; }
        .log-time { color: #666; }
        .log-msg { color: #fff; }
        .log-success { color: var(--success); }
        .log-warning { color: var(--primary); }

        .console-footer { padding: 20px; border-top: 1px solid #333; text-align: center; }
        .btn-run {
            background: var(--primary); color: black; border: none; padding: 12px 30px; font-weight: bold;
            cursor: pointer; text-transform: uppercase; letter-spacing: 1px; font-family: var(--font-text);
            transition: 0.3s; border-radius: 4px;
        }
        .btn-run:hover { background: white; }
        .btn-run:disabled { background: #444; color: #888; cursor: not-allowed; }

        .close-btn { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }

        @keyframes fadeInLog { to { opacity: 1; } }

        /* Responsive */
        @media (max-width: 900px) {
            .modal-content { flex-direction: column; overflow-y: auto; }
            .modal-left, .modal-right { width: 100%; height: auto; }
            .modal-left { height: 400px; }
            .kpi-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">Net<span>Market</span></div>
        <nav>
            <ul>
                <li><a onclick="showPage('workflows')" class="active" id="nav-workflows">Outils & Flux</a></li>
                <li><a onclick="showPage('kpis')" id="nav-kpis">Dashboard KPIs</a></li>
            </ul>
        </nav>
    </header>

    <section id="workflows" class="page-section active">
        <div class="hero">
            <h1>Architecture & Automation</h1>
            <p>Cliquez sur un outil pour lancer la simulation du workflow n8n.</p>
        </div>

        <div class="grid">
            <div class="card" onclick="openSimulation(0)">
                <div class="card-icon"><i class="fas fa-pencil-ruler"></i></div>
                <h3>NetDesignX</h3>
                <span class="card-tag">Design & Collection</span>
                <p style="margin-top:15px; color:#666;">Conception 3D, validation des prototypes et sourcing.</p>
                <div style="margin-top:20px; color:var(--primary); font-size:0.9rem; font-weight:bold;">
                    <i class="fas fa-play-circle"></i> Simuler le Flux
                </div>
            </div>

            <div class="card" onclick="openSimulation(1)">
                <div class="card-icon"><i class="fas fa-tags"></i></div>
                <h3>NetCatX</h3>
                <span class="card-tag">Catalogue / PIM</span>
                <p style="margin-top:15px; color:#666;">Centralisation PIM et diffusion multicanale (Shopify).</p>
                <div style="margin-top:20px; color:var(--primary); font-size:0.9rem; font-weight:bold;">
                    <i class="fas fa-play-circle"></i> Simuler le Flux
                </div>
            </div>

            <div class="card" onclick="openSimulation(2)">
                <div class="card-icon"><i class="fas fa-bullhorn"></i></div>
                <h3>NetMarkX</h3>
                <span class="card-tag">Marketing Mode</span>
                <p style="margin-top:15px; color:#666;">Automation des campagnes, CRM et Réseaux Sociaux.</p>
                <div style="margin-top:20px; color:var(--primary); font-size:0.9rem; font-weight:bold;">
                    <i class="fas fa-play-circle"></i> Simuler le Flux
                </div>
            </div>

            <div class="card" onclick="openSimulation(3)">
                <div class="card-icon"><i class="fas fa-headset"></i></div>
                <h3>NetCareX</h3>
                <span class="card-tag">Service Client</span>
                <p style="margin-top:15px; color:#666;">Gestion des tickets, retours et satisfaction client.</p>
                <div style="margin-top:20px; color:var(--primary); font-size:0.9rem; font-weight:bold;">
                    <i class="fas fa-play-circle"></i> Simuler le Flux
                </div>
            </div>
        </div>
    </section>

    <section id="kpis" class="page-section">
        <div class="kpi-container">
            <div class="kpi-header">
                <h2>Tableau de Bord de Performance</h2>
                <p>Suivi en temps réel des impacts de la transformation digitale.</p>
            </div>

            <div class="kpi-grid">
                
                <div class="kpi-card">
                    <div class="kpi-title">
                        <h3><i class="fas fa-pencil-ruler" style="color:var(--primary);"></i> Design & Collection</h3>
                        <span class="card-tag">NetDesignX</span>
                    </div>
                    <div style="display:flex; gap:20px; margin-bottom:20px;">
                        <div>
                            <div class="big-stat">-40%</div>
                            <div class="stat-label">Time-to-Market</div>
                        </div>
                        <div>
                            <div class="big-stat">12k €</div>
                            <div class="stat-label">Économie Prototypes</div>
                        </div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-label"><span>Adoption Collection</span> <span>85%</span></div>
                        <div class="progress-bg"><div class="progress-fill" style="width: 85%;"></div></div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-label"><span>Validation Fournisseur (Délais)</span> <span>92%</span></div>
                        <div class="progress-bg"><div class="progress-fill" style="width: 92%;"></div></div>
                    </div>
                </div>

                <div class="kpi-card">
                    <div class="kpi-title">
                        <h3><i class="fas fa-tags" style="color:var(--primary);"></i> Catalogue PIM</h3>
                        <span class="card-tag">NetCatX</span>
                    </div>
                    <div style="display:flex; gap:20px; margin-bottom:20px;">
                        <div>
                            <div class="big-stat">0.2%</div>
                            <div class="stat-label">Taux d'erreur (vs 5%)</div>
                        </div>
                        <div>
                            <div class="big-stat">2h</div>
                            <div class="stat-label">Mise en ligne (vs 2j)</div>
                        </div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-label"><span>Complétude Fiches Produits</span> <span>98%</span></div>
                        <div class="progress-bg"><div class="progress-fill" style="width: 98%;"></div></div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-label"><span>Synchro Stock Temps Réel</span> <span>99.9%</span></div>
                        <div class="progress-bg"><div class="progress-fill" style="width: 99.9%;"></div></div>
                    </div>
                </div>

                <div class="kpi-card">
                    <div class="kpi-title">
                        <h3><i class="fas fa-bullhorn" style="color:var(--primary);"></i> Marketing</h3>
                        <span class="card-tag">NetMarkX</span>
                    </div>
                    <div style="display:flex; gap:20px; margin-bottom:20px;">
                        <div>
                            <div class="big-stat">+25%</div>
                            <div class="stat-label">Taux Conversion</div>
                        </div>
                        <div>
                            <div class="big-stat">3.5</div>
                            <div class="stat-label">ROAS (Retour Pub)</div>
                        </div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-label"><span>Taux Ouverture Email</span> <span>32%</span></div>
                        <div class="progress-bg"><div class="progress-fill" style="width: 32%;"></div></div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-label"><span>Engagement Réseaux Sociaux</span> <span>High</span></div>
                        <div class="progress-bg"><div class="progress-fill" style="width: 75%;"></div></div>
                    </div>
                </div>

                <div class="kpi-card">
                    <div class="kpi-title">
                        <h3><i class="fas fa-headset" style="color:var(--primary);"></i> Service Client</h3>
                        <span class="card-tag">NetCareX</span>
                    </div>
                    <div style="display:flex; gap:20px; margin-bottom:20px;">
                        <div>
                            <div class="big-stat">4.8/5</div>
                            <div class="stat-label">CSAT (Satisfaction)</div>
                        </div>
                        <div>
                            <div class="big-stat">60%</div>
                            <div class="stat-label">Tickets Automatisés</div>
                        </div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-label"><span>Temps Réponse Moyen ( < 2h)</span> <span>95%</span></div>
                        <div class="progress-bg"><div class="progress-fill" style="width: 95%;"></div></div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-label"><span>Taux de Retour Produit</span> <span>12%</span></div>
                        <div class="progress-bg"><div class="progress-fill" style="width: 12%; background: #e74c3c;"></div></div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-left">
                <div style="color:#888; margin-bottom:10px; font-size:0.8rem;">VUE SCHÉMATIQUE (n8n Workflow)</div>
                <img id="sim-img" src="" alt="Workflow Schema" class="workflow-img">
            </div>

            <div class="modal-right">
                <div class="console-header">
                    <div class="console-title">>_ SYSTEM_CONSOLE : <span id="sim-title" style="color:white;">TOOL</span></div>
                    <button class="close-btn" onclick="closeModal()">&times;</button>
                </div>
                
                <div class="console-body" id="console-log">
                    <div style="color:#666; margin-top:50px; text-align:center;">
                        Prêt à démarrer.<br>Cliquez sur "Lancer la Simulation".
                    </div>
                </div>

                <div class="console-footer">
                    <button id="btn-start" class="btn-run" onclick="runSimulation()">
                        <i class="fas fa-play"></i> Lancer la Simulation
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DONNÉES DE SIMULATION ---
        const tools = [
            {
                name: "NetDesignX",
                img: "image_87875e.jpg", // Nom de votre image Design
                logs: [
                    "Initializing CLO 3D Integration...",
                    "Webhook Received: 'Collection_Automne_2025'",
                    "Fetching 3D Assets from Cloud Storage...",
                    "[SUCCESS] Assets Loaded (1.2GB)",
                    "Running Validation Script (Size/Material Check)...",
                    "Analyzing Trends via WGSN API...",
                    "[INFO] Color Match: 98% with 'Earth Tones' trend.",
                    "Creating Sourcing Request in Monday.com...",
                    "Notify Suppliers: Email Sent via Outlook Node.",
                    "[SUCCESS] Workflow Completed. Status: 'Ready for Production'."
                ]
            },
            {
                name: "NetCatX",
                img: "image_878765.jpg", // Nom de votre image Catalogue
                logs: [
                    "Cron Trigger: Hourly Sync Started.",
                    "Fetching new products from ERP...",
                    "Processing 150 SKUs...",
                    "Data Normalization: Converting Sizes EU -> US/UK...",
                    "[CHECK] Duplicate Detection: 0 Found.",
                    "Enriching Data via OpenAI (Descriptions generation)...",
                    "Updating Akeneo PIM...",
                    "Pushing to Shopify API...",
                    "[SUCCESS] 150 Products Live on Storefront.",
                    "Updating Index Algolia..."
                ]
            },
            {
                name: "NetMarkX",
                img: "image_878a0b.jpg", // Nom de votre image Marketing
                logs: [
                    "Trigger: New Collection Launch Detected.",
                    "Fetching Customer Segments from Klaviyo...",
                    "Segment: 'VIP_High_Spenders' (Count: 45,000)",
                    "Generating Personalized Email Content...",
                    "Scheduling Social Posts (Instagram, TikTok) via Hootsuite...",
                    "Campaign Budget Check: Approved.",
                    "Sending Broadcast Batch 1...",
                    "Tracking Pixel Activated.",
                    "[SUCCESS] Campaign Active. Monitoring ROI."
                ]
            },
            {
                name: "NetCareX",
                img: "image_878a26.jpg", // Nom de votre image Service Client
                logs: [
                    "Webhook: New Ticket Created (Source: Email).",
                    "Analyzing Sentiment via NLP...",
                    "[INFO] Sentiment: Negative (Keyword: 'Defect').",
                    "Classifying Ticket: 'Return / Quality Issue'.",
                    "Checking Order #88492 in Shopify...",
                    "Auto-Reply: Generating Return Label...",
                    "Updating Zendesk Ticket Status -> 'Pending Return'.",
                    "Notify Quality Team (Slack Alert)...",
                    "[SUCCESS] Ticket processed automatically."
                ]
            }
        ];

        let currentToolIndex = 0;

        // --- NAVIGATION ---
        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
            
            document.getElementById(pageId).classList.add('active');
            document.getElementById('nav-' + pageId).classList.add('active');
        }

        // --- MODAL & SIMULATION ---
        function openSimulation(index) {
            currentToolIndex = index;
            const tool = tools[index];
            
            document.getElementById('sim-title').innerText = tool.name;
            
            // Gestion de l'image (avec fallback si l'image n'existe pas)
            const imgEl = document.getElementById('sim-img');
            imgEl.src = tool.img;
            imgEl.onerror = function() { this.src = 'https://via.placeholder.com/800x600/222/d4af37?text=Image+Workflow+Manquante'; };

            // Reset Console
            document.getElementById('console-log').innerHTML = '<div style="color:#666; margin-top:50px; text-align:center;">Prêt à démarrer.<br>Cliquez sur "Lancer la Simulation".</div>';
            document.getElementById('btn-start').disabled = false;
            document.getElementById('btn-start').innerHTML = '<i class="fas fa-play"></i> Lancer la Simulation';

            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function runSimulation() {
            const consoleDiv = document.getElementById('console-log');
            const btn = document.getElementById('btn-start');
            const tool = tools[currentToolIndex];
            
            consoleDiv.innerHTML = ''; // Clear
            btn.disabled = true;
            btn.innerText = "Exécution en cours...";

            let delay = 0;
            tool.logs.forEach((log, i) => {
                delay += 800; // 0.8s entre chaque ligne
                setTimeout(() => {
                    const div = document.createElement('div');
                    div.className = 'log-entry';
                    
                    const time = new Date().toLocaleTimeString('fr-FR');
                    let colorClass = 'log-msg';
                    if(log.includes('[SUCCESS]')) colorClass = 'log-success';
                    if(log.includes('[INFO]') || log.includes('Trigger')) colorClass = 'log-warning';

                    div.innerHTML = `<span class="log-time">[${time}]</span> <span class="${colorClass}">${log}</span>`;
                    consoleDiv.appendChild(div);
                    consoleDiv.scrollTop = consoleDiv.scrollHeight; // Auto scroll

                    // Fin de la simulation
                    if (i === tool.logs.length - 1) {
                        setTimeout(() => {
                            btn.disabled = false;
                            btn.innerText = "Relancer";
                        }, 500);
                    }
                }, delay);
            });
        }

        // Fermeture au clic dehors
        window.onclick = function(e) {
            if(e.target == document.getElementById('modal')) closeModal();
        }
    </script>
</body>
</html>
