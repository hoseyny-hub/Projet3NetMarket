<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetMarket Enterprise - Suite de Gestion</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* --- DESIGN SYSTEM : BLACK / GOLD / WHITE --- */
        :root {
            --primary: #d4af37; /* Or Premium */
            --primary-hover: #b59020;
            --bg-dark: #111111;
            --bg-panel: #1e1e1e;
            --bg-light: #f4f6f8;
            --text-dark: #222;
            --text-light: #fff;
            --text-grey: #888;
            --border: #e0e0e0;
            --sidebar-width: 260px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-light); color: var(--text-dark); display: flex; height: 100vh; overflow: hidden; }

        /* --- SIDEBAR --- */
        .sidebar {
            width: var(--sidebar-width); background-color: var(--bg-dark); color: white;
            display: flex; flex-direction: column; padding: 20px; flex-shrink: 0;
        }
        .logo { font-family: 'Playfair Display', serif; font-size: 1.5rem; margin-bottom: 40px; color: white; }
        .logo span { color: var(--primary); }
        
        .nav-item {
            padding: 15px; margin-bottom: 5px; border-radius: 8px; cursor: pointer; transition: 0.3s;
            display: flex; align-items: center; gap: 12px; color: #bbb;
        }
        .nav-item:hover, .nav-item.active { background-color: rgba(212, 175, 55, 0.15); color: var(--primary); }
        .nav-item i { width: 20px; text-align: center; }

        .user-profile { margin-top: auto; padding-top: 20px; border-top: 1px solid #333; display: flex; gap: 10px; align-items: center; font-size: 0.9rem; }
        .avatar { width: 35px; height: 35px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: black; }

        /* --- MAIN CONTENT --- */
        .main-content { flex: 1; overflow-y: auto; padding: 30px; position: relative; }
        
        .app-section { display: none; animation: fadeIn 0.4s; }
        .app-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Headers */
        .header-box { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .app-title { font-size: 1.8rem; font-weight: 700; color: var(--bg-dark); font-family: 'Playfair Display', serif; }
        .role-badge { background: var(--bg-dark); color: var(--primary); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; text-transform: uppercase; }

        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); border-left: 4px solid var(--primary); }
        .stat-val { font-size: 1.8rem; font-weight: 700; margin: 5px 0; }
        .stat-label { color: var(--text-grey); font-size: 0.9rem; }

        /* Tables & Lists */
        .data-panel { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 30px; }
        .panel-header { display: flex; justify-content: space-between; margin-bottom: 20px; align-items: center; }
        .table-w { width: 100%; border-collapse: collapse; }
        .table-w th { text-align: left; padding: 12px; color: var(--text-grey); font-size: 0.85rem; border-bottom: 1px solid #eee; }
        .table-w td { padding: 12px; border-bottom: 1px solid #eee; font-size: 0.95rem; }
        .status { padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: 600; }
        .status.green { background: #e6f9ed; color: #00b85a; }
        .status.red { background: #fde8e8; color: #d93025; }
        .status.orange { background: #fff8e1; color: #f5a623; }
        .row-clickable { cursor: pointer; transition: background 0.2s; }
        .row-clickable:hover { background: #f9f9f9; }

        /* Charts Container */
        .charts-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        .chart-box { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); height: 350px; }

        /* Philosophy Footer */
        .philosophy-box { background: var(--bg-dark); color: white; padding: 20px; border-radius: 10px; text-align: center; margin-top: 40px; }
        .philosophy-box i { color: var(--primary); font-size: 1.5rem; margin-bottom: 10px; }
        .philosophy-text { font-style: italic; opacity: 0.9; }

        /* --- MODAL --- */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
        .modal.active { display: flex; }
        .modal-content { background: white; width: 600px; max-width: 90%; border-radius: 12px; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.2); animation: slideUp 0.3s; }
        @keyframes slideUp { from {transform: translateY(20px);} to {transform: translateY(0);} }
        .modal-header { background: var(--bg-dark); color: white; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .modal-body { padding: 25px; max-height: 70vh; overflow-y: auto; }
        .modal-footer { padding: 15px 25px; background: #f9f9f9; text-align: right; border-top: 1px solid #eee; }
        
        .detail-row { margin-bottom: 15px; display: flex; justify-content: space-between; border-bottom: 1px solid #f0f0f0; padding-bottom: 8px; }
        .detail-label { color: #888; font-size: 0.9rem; }
        .detail-val { font-weight: 600; }

        .btn { padding: 10px 20px; border-radius: 6px; border: none; cursor: pointer; font-weight: 600; font-size: 0.9rem; transition: 0.2s; }
        .btn-primary { background: var(--primary); color: var(--bg-dark); }
        .btn-primary:hover { background: var(--primary-hover); }
        .btn-secondary { background: #eee; color: #333; }
        .btn-danger { background: #fff0f0; color: #d32f2f; }

        .close-modal { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }

    </style>
</head>
<body>

    <nav class="sidebar">
        <div class="logo">Net<span>Market</span></div>
        
        <div class="nav-item active" onclick="switchApp('home', this)">
            <i class="fas fa-th-large"></i> Portail
        </div>
        <div class="nav-divider" style="height: 1px; background: #333; margin: 10px 0;"></div>
        <div class="nav-item" onclick="switchApp('design', this)">
            <i class="fas fa-pencil-ruler"></i> NetDesignX
        </div>
        <div class="nav-item" onclick="switchApp('cat', this)">
            <i class="fas fa-tags"></i> NetCatX
        </div>
        <div class="nav-item" onclick="switchApp('promo', this)">
            <i class="fas fa-bullhorn"></i> NetPromoX
        </div>
        <div class="nav-item" onclick="switchApp('care', this)">
            <i class="fas fa-headset"></i> NetCareX
        </div>

        <div class="user-profile">
            <div class="avatar">AH</div>
            <div>
                <div style="font-weight: 600;">Admin User</div>
                <div style="font-size: 0.75rem; color: #888;">Acc√®s Global</div>
            </div>
        </div>
    </nav>

    <main class="main-content">

        <section id="home" class="app-section active">
            <div class="header-box">
                <div class="app-title">Portail Enterprise NetMarket</div>
            </div>
            <div style="text-align: center; padding: 50px;">
                <h2 style="font-size: 2rem; margin-bottom: 20px;">Bienvenue dans l'√©cosyst√®me connect√©</h2>
                <p style="color: #666; max-width: 600px; margin: 0 auto 40px;">
                    Cette suite d'outils interconnect√©s permet de g√©rer le cycle de vie complet d'un produit, de sa conception √† sa vente et au support client.
                </p>
                <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="document.querySelectorAll('.nav-item')[2].click()">Lancer NetDesignX</button>
                    <button class="btn btn-primary" onclick="document.querySelectorAll('.nav-item')[5].click()">Lancer NetCareX</button>
                </div>
            </div>
        </section>

        <section id="design" class="app-section">
            <div class="header-box">
                <div class="app-title">NetDesignX <span style="font-size:1rem; color:#888;">| Collection Management</span></div>
                <span class="role-badge">Vue: Head of Product</span>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Saison</div>
                    <div class="stat-val">Hiver 2025</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Avancement</div>
                    <div class="stat-val">65%</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Id√©es Valid√©es</div>
                    <div class="stat-val">42</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Taux Innovation</div>
                    <div class="stat-val">+12%</div>
                </div>
            </div>

            <div class="charts-row">
                <div class="chart-box">
                    <canvas id="chartDesign1"></canvas>
                </div>
                <div class="chart-box">
                    <canvas id="chartDesign2"></canvas>
                </div>
            </div>

            <div class="data-panel">
                <div class="panel-header">
                    <h3>Pipeline Cr√©atif</h3>
                    <button class="btn btn-primary">+ Nouvelle Id√©e</button>
                </div>
                <table class="table-w">
                    <thead><tr><th>Produit</th><th>Type</th><th>Inspiration</th><th>Statut</th></tr></thead>
                    <tbody id="design-list">
                        </tbody>
                </table>
            </div>

            <div class="philosophy-box">
                <i class="fas fa-lightbulb"></i>
                <div class="philosophy-text">"Le design n‚Äôest pas cr√©atif seulement, il est pilot√©, structur√© et mesurable."</div>
            </div>
        </section>

        <section id="cat" class="app-section">
            <div class="header-box">
                <div class="app-title">NetCatX <span style="font-size:1rem; color:#888;">| Catalogue & PIM</span></div>
                <span class="role-badge">Vue: E-Merchandiser</span>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Produits en Ligne</div>
                    <div class="stat-val">1,240</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">√Ä Optimiser</div>
                    <div class="stat-val" style="color:#d93025">15</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Conversion Moyenne</div>
                    <div class="stat-val">2.8%</div>
                </div>
            </div>

            <div class="data-panel">
                <div class="panel-header">
                    <h3>Optimisation Fiches Produits</h3>
                    <div style="font-size:0.9rem; color:#888;">Synchronisation ERP: <span class="status green">OK</span></div>
                </div>
                <table class="table-w">
                    <thead><tr><th>SKU</th><th>Nom</th><th>Qualit√© Fiche</th><th>Conversion</th><th>Action</th></tr></thead>
                    <tbody id="cat-list"></tbody>
                </table>
            </div>

            <div class="chart-box" style="margin-bottom: 30px;">
                <canvas id="chartCat1"></canvas>
            </div>

            <div class="philosophy-box">
                <i class="fas fa-shopping-bag"></i>
                <div class="philosophy-text">"Une fiche produit est un levier de vente, pas une simple page descriptive."</div>
            </div>
        </section>

        <section id="promo" class="app-section">
            <div class="header-box">
                <div class="app-title">NetPromoX <span style="font-size:1rem; color:#888;">| Marketing Suite</span></div>
                <span class="role-badge">Vue: Growth Manager</span>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Budget Actif</div>
                    <div class="stat-val">45k ‚Ç¨</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ROI Global</div>
                    <div class="stat-val">4.2</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Co√ªt Acquisition (CPA)</div>
                    <div class="stat-val">12.50 ‚Ç¨</div>
                </div>
            </div>

            <div class="charts-row">
                <div class="chart-box">
                    <canvas id="chartPromo1"></canvas>
                </div>
                <div class="chart-box">
                    <canvas id="chartPromo2"></canvas>
                </div>
            </div>

            <div class="data-panel">
                <div class="panel-header">
                    <h3>Campagnes Actives</h3>
                </div>
                <table class="table-w">
                    <thead><tr><th>Campagne</th><th>Canal</th><th>Budget</th><th>ROI</th><th>Statut</th></tr></thead>
                    <tbody id="promo-list"></tbody>
                </table>
            </div>

            <div class="philosophy-box">
                <i class="fas fa-chart-line"></i>
                <div class="philosophy-text">"Le marketing n‚Äôest pas de la visibilit√©, c‚Äôest de la performance mesurable."</div>
            </div>
        </section>

        <section id="care" class="app-section">
            <div class="header-box">
                <div class="app-title">NetCareX <span style="font-size:1rem; color:#888;">| Customer Success</span></div>
                <span class="role-badge">Vue: Agent Support</span>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Tickets en cours</div>
                    <div class="stat-val">24</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Temps R√©ponse (Moyen)</div>
                    <div class="stat-val">1h 15m</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">CSAT (Satisfaction)</div>
                    <div class="stat-val">4.8/5</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Remboursements J-1</div>
                    <div class="stat-val">340 ‚Ç¨</div>
                </div>
            </div>

            <div class="charts-row">
                <div class="chart-box">
                    <canvas id="chartCare1"></canvas>
                </div>
                <div class="data-panel" style="margin-bottom:0; height: 350px; overflow:hidden;">
                    <h4>Actions Correctives (Lien Inter-services)</h4>
                    <ul style="list-style:none; margin-top:15px; font-size:0.9rem;">
                        <li style="padding:10px; border-bottom:1px solid #eee; display:flex; justify-content:space-between;">
                            <span>‚ö†Ô∏è PB Taille "Blazer Hiver"</span>
                            <span class="status orange">‚Üí Envoy√© au Design</span>
                        </li>
                        <li style="padding:10px; border-bottom:1px solid #eee; display:flex; justify-content:space-between;">
                            <span>üì¶ Retard Transporteur DHL</span>
                            <span class="status red">‚Üí Envoy√© Logistique</span>
                        </li>
                        <li style="padding:10px; border-bottom:1px solid #eee; display:flex; justify-content:space-between;">
                            <span>üì∑ Photo floue "Robe √ât√©"</span>
                            <span class="status green">‚Üí Corrig√© (NetCatX)</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="data-panel">
                <div class="panel-header">
                    <h3>Inbox Prioritaire</h3>
                    <div style="font-size:0.9rem;">IA Routing: <span class="status green">Actif</span></div>
                </div>
                <table class="table-w">
                    <thead><tr><th>ID</th><th>Client</th><th>Motif</th><th>Priorit√©</th><th>Statut</th></tr></thead>
                    <tbody id="care-list"></tbody>
                </table>
            </div>

            <div class="philosophy-box">
                <i class="fas fa-heart"></i>
                <div class="philosophy-text">"Le service client n‚Äôest pas un centre de co√ªt, mais un outil strat√©gique de pilotage."</div>
            </div>
        </section>

    </main>

    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">D√©tail</h3>
                <button class="close-modal" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                </div>
            <div class="modal-footer" id="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Fermer</button>
            </div>
        </div>
    </div>

    <script>
        // --- NAVIGATION ---
        function switchApp(appId, navEl) {
            // Cacher toutes les sections
            document.querySelectorAll('.app-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            // Afficher la bonne
            document.getElementById(appId).classList.add('active');
            if(navEl) navEl.classList.add('active');

            // Resize charts (fix chartjs bug on hidden tabs)
            window.dispatchEvent(new Event('resize'));
        }

        // --- DATA MOCKS (EXEMPLES CONCR√äTS) ---
        
        // 1. DATA DESIGN
        const designData = [
            { id: 101, name: "Veste Blazer Oversize", type: "Veste", inspi: "Tendance 'Office Core'", status: "Prototype", risk: "Co√ªt mati√®re √©lev√©" },
            { id: 102, name: "Robe Soie Florale", type: "Robe", inspi: "Retour Client (Demande couleurs)", status: "Id√©e", risk: "Fragilit√© tissu" },
            { id: 103, name: "Pantalon Cargo Tech", type: "Pantalon", inspi: "March√© Streetwear", status: "Valid√©", risk: "Aucun" }
        ];

        // 2. DATA CATALOGUE
        const catData = [
            { sku: "BST-2025-01", name: "Veste Blazer Oversize", quality: 45, conv: "0.5%", stock: 150, issue: "Description manquante" },
            { sku: "DRS-SUM-99", name: "Robe √ât√© L√©g√®re", quality: 98, conv: "3.2%", stock: 20, issue: "Aucun" },
            { sku: "SHOE-RUN-X", name: "Sneakers RunX", quality: 80, conv: "1.8%", stock: 400, issue: "Manque Photo 360" }
        ];

        // 3. DATA PROMO
        const promoData = [
            { name: "Lancement Hiver 2025", channel: "Instagram + Email", budget: "15k ‚Ç¨", roi: "5.2", status: "En cours" },
            { name: "Relance Paniers Abandonn√©s", channel: "Email Auto", budget: "2k ‚Ç¨", roi: "12.0", status: "Permanent" },
            { name: "Promo Flash 24h", channel: "Push App", budget: "500 ‚Ç¨", roi: "3.1", status: "Termin√©" }
        ];

        // 4. DATA CARE (TICKETS)
        const careData = [
            { id: "#TK-9921", client: "Julie Martin", motif: "Taille incorrecte (Blazer)", priority: "Moyenne", status: "Nouveau", order: "CMD-8832", history: "Client Fid√®le" },
            { id: "#TK-9922", client: "Paul Durand", motif: "Retard Livraison", priority: "Haute", status: "En cours", order: "CMD-8810", history: "Nouveau" },
            { id: "#TK-9923", client: "Sarah L.", motif: "Produit D√©fectueux", priority: "Critique", status: "Nouveau", order: "CMD-8800", history: "VIP" }
        ];

        // --- RENDERING LISTS ---

        function renderLists() {
            // Design
            const dList = document.getElementById('design-list');
            dList.innerHTML = designData.map(item => `
                <tr class="row-clickable" onclick="openModalDesign(${item.id})">
                    <td><strong>${item.name}</strong></td>
                    <td>${item.type}</td>
                    <td>${item.inspi}</td>
                    <td><span class="status ${item.status === 'Valid√©' ? 'green' : 'orange'}">${item.status}</span></td>
                </tr>
            `).join('');

            // Cat
            const cList = document.getElementById('cat-list');
            cList.innerHTML = catData.map(item => `
                <tr class="row-clickable" onclick="openModalCat('${item.sku}')">
                    <td>${item.sku}</td>
                    <td>${item.name}</td>
                    <td>
                        <div style="background:#eee; height:6px; width:100%; border-radius:3px;">
                            <div style="background:${item.quality < 50 ? 'red' : 'green'}; width:${item.quality}%; height:100%; border-radius:3px;"></div>
                        </div>
                        <span style="font-size:0.7rem">${item.quality}%</span>
                    </td>
                    <td>${item.conv}</td>
                    <td><button class="btn btn-secondary" style="padding:2px 8px; font-size:0.7rem">Optimiser</button></td>
                </tr>
            `).join('');

            // Promo
            const pList = document.getElementById('promo-list');
            pList.innerHTML = promoData.map(item => `
                <tr class="row-clickable" onclick="alert('Simulation: Voir d√©tail campagne')">
                    <td>${item.name}</td>
                    <td>${item.channel}</td>
                    <td>${item.budget}</td>
                    <td style="color:green; font-weight:bold;">x${item.roi}</td>
                    <td><span class="status ${item.status === 'En cours' ? 'green' : 'orange'}">${item.status}</span></td>
                </tr>
            `).join('');

            // Care
            const caList = document.getElementById('care-list');
            caList.innerHTML = careData.map(item => `
                <tr class="row-clickable" onclick="openModalCare('${item.id}')">
                    <td>${item.id}</td>
                    <td>${item.client}</td>
                    <td>${item.motif}</td>
                    <td><span class="status ${item.priority === 'Critique' || item.priority === 'Haute' ? 'red' : 'orange'}">${item.priority}</span></td>
                    <td>${item.status}</td>
                </tr>
            `).join('');
        }

        // --- MODALS FUNCTIONS ---

        const modal = document.getElementById('modal');
        function closeModal() { modal.classList.remove('active'); }

        // Modal Design : Simulation Validation
        function openModalDesign(id) {
            const item = designData.find(i => i.id === id);
            document.getElementById('modal-title').innerText = "Fiche Id√©e : " + item.name;
            document.getElementById('modal-body').innerHTML = `
                <div class="detail-row"><span class="detail-label">Inspiration</span> <span class="detail-val">${item.inspi}</span></div>
                <div class="detail-row"><span class="detail-label">Risque Identifi√©</span> <span class="detail-val" style="color:red">${item.risk}</span></div>
                <div style="background:#f9f9f9; padding:15px; border-radius:8px; margin-top:15px; text-align:center;">
                    <div style="color:#888; margin-bottom:10px;">Simulation Visuelle (Croquis)</div>
                    <i class="fas fa-tshirt" style="font-size:3rem; color:#ccc;"></i>
                </div>
                <p style="margin-top:15px; font-size:0.9rem;">
                    <strong>Note du Designer:</strong> "Nous devons valider le co√ªt du tissu avant de lancer le prototype 3D."
                </p>
            `;
            document.getElementById('modal-footer').innerHTML = `
                <button class="btn btn-secondary" onclick="closeModal()">Modifier</button>
                <button class="btn btn-primary" onclick="alert('Simulation: Produit envoy√© vers NetCatX (Catalogue)'); closeModal();">Valider le Produit</button>
            `;
            modal.classList.add('active');
        }

        // Modal Cat : Simulation Optimisation
        function openModalCat(sku) {
            const item = catData.find(i => i.sku === sku);
            document.getElementById('modal-title').innerText = "Optimisation SKU : " + sku;
            document.getElementById('modal-body').innerHTML = `
                <div class="detail-row"><span class="detail-label">Produit</span> <span class="detail-val">${item.name}</span></div>
                <div class="detail-row"><span class="detail-label">Probl√®me D√©tect√©</span> <span class="detail-val" style="color:red">${item.issue}</span></div>
                
                <div style="margin-top:20px;">
                    <label style="font-size:0.8rem; font-weight:bold;">A/B Test Description (IA)</label>
                    <div style="display:flex; gap:10px; margin-top:5px;">
                        <div style="border:1px solid green; padding:10px; flex:1; border-radius:5px; background:#e6f9ed;">
                            <strong>Version A (Actuelle)</strong><br>Veste simple hiver.
                        </div>
                        <div style="border:1px solid #ccc; padding:10px; flex:1; border-radius:5px;">
                            <strong>Version B (Sugg√©r√©e)</strong><br>Veste structur√©e coupe oversize, id√©ale pour le look "Office Core" de l'hiver 2025.
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('modal-footer').innerHTML = `
                <button class="btn btn-primary" onclick="alert('Simulation: Description mise √† jour et publi√©e sur le site.'); closeModal();">Appliquer Version B</button>
            `;
            modal.classList.add('active');
        }

        // Modal Care : Simulation Traitement Ticket
        function openModalCare(id) {
            const item = careData.find(i => i.id === id);
            document.getElementById('modal-title').innerText = "Ticket " + id;
            document.getElementById('modal-body').innerHTML = `
                <div style="display:flex; gap:20px;">
                    <div style="flex:1;">
                        <h4>Info Client</h4>
                        <div class="detail-row"><span class="detail-label">Nom</span> <span>${item.client}</span></div>
                        <div class="detail-row"><span class="detail-label">Statut</span> <span>${item.history}</span></div>
                        <div class="detail-row"><span class="detail-label">Commande</span> <a href="#">${item.order}</a></div>
                    </div>
                    <div style="flex:1;">
                        <h4>Analyse IA</h4>
                        <div class="detail-row"><span class="detail-label">Sentiment</span> <span style="color:red">N√©gatif</span></div>
                        <div class="detail-row"><span class="detail-label">Motif</span> <span>${item.motif}</span></div>
                    </div>
                </div>
                <div style="background:#fff3cd; color:#856404; padding:10px; margin-top:15px; border-radius:5px; font-size:0.9rem;">
                    <strong>Suggestion Syst√®me:</strong> Ce probl√®me de taille revient souvent sur ce produit. Escalade conseill√©e vers le Design.
                </div>
            `;
            document.getElementById('modal-footer').innerHTML = `
                <button class="btn btn-secondary" onclick="alert('Remboursement initi√©'); closeModal();">Rembourser</button>
                <button class="btn btn-primary" onclick="alert('Ticket envoy√© √† l\'√©quipe Design via NetDesignX'); closeModal();">Escalader au Design</button>
            `;
            modal.classList.add('active');
        }


        // --- CHARTS (KPIs) ---
        function initCharts() {
            // Chart Design: Pipeline
            new Chart(document.getElementById('chartDesign1'), {
                type: 'doughnut',
                data: {
                    labels: ['Id√©es', 'Prototypes', 'Valid√©s', 'Rejet√©s'],
                    datasets: [{ data: [15, 8, 42, 5], backgroundColor: ['#eee', '#f5a623', '#00b85a', '#d93025'] }]
                },
                options: { plugins: { title: { display: true, text: 'Entonnoir de Collection' } } }
            });

            // Chart Cat: Conversion
            new Chart(document.getElementById('chartCat1'), {
                type: 'bar',
                data: {
                    labels: ['Fiches Faibles', 'Fiches Optimis√©es'],
                    datasets: [{ label: 'Taux Conversion %', data: [0.8, 3.2], backgroundColor: ['#d93025', '#00b85a'] }]
                },
                options: { plugins: { title: { display: true, text: 'Impact Optimisation NetCatX' } } }
            });

            // Chart Promo: ROI
            new Chart(document.getElementById('chartPromo1'), {
                type: 'line',
                data: {
                    labels: ['S1', 'S2', 'S3', 'S4'],
                    datasets: [{ label: 'ROI Campagne Hiver', data: [1.2, 2.5, 3.8, 5.2], borderColor: '#d4af37', fill: false }]
                },
                options: { plugins: { title: { display: true, text: '√âvolution Performance' } } }
            });

            // Chart Care: Motifs
            new Chart(document.getElementById('chartCare1'), {
                type: 'pie',
                data: {
                    labels: ['Taille', 'Livraison', 'Qualit√©', 'Autre'],
                    datasets: [{ data: [40, 30, 20, 10], backgroundColor: ['#3e95cd', '#8e5ea2', '#3cba9f', '#e8c3b9'] }]
                },
                options: { plugins: { title: { display: true, text: 'Motifs de Contact' } } }
            });
        }

        // Init
        renderLists();
        setTimeout(initCharts, 500); // Wait for DOM layout

    </script>
</body>
</html>
